{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/rband/Desktop/SpreadsheetPanel/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"C:/Users/rband/Desktop/SpreadsheetPanel/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{store}from'../../../../store/store.js';import{useSelector}from'react-redux';import{getVerticalAlignment,setVerticalAlignment}from'../../../../store/reducers/selectionSlice.js';import Data from\"../../../../data/data.js\";import recordChange from\"../../../../data/modifiers/recordChange.js\";import'./VerticalAlignment.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function VerticalAlignment(_ref){var selectionEntries=_ref.selectionEntries;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),insideDropdown=_useState2[0],setInsideDropdown=_useState2[1];var verticalAlignment=useSelector(getVerticalAlignment);var toggleDropdown=function toggleDropdown(e){var dropdown=e.target.parentElement.querySelector('.verticalAlignment__options');if(dropdown.style.opacity==1){dropdown.style.opacity=0;dropdown.style.zIndex=-1;dropdown.style.pointerEvents='none';}else{dropdown.style.opacity=1;dropdown.style.zIndex=3;dropdown.style.pointerEvents='auto';}};var recordMouseEnter=function recordMouseEnter(){setInsideDropdown(true);};var recordMouseLeave=function recordMouseLeave(){setInsideDropdown(false);};var hideDropdown=function hideDropdown(e){if(!insideDropdown){e.currentTarget.querySelector('.verticalAlignment__options').style.opacity=0;e.currentTarget.querySelector('.verticalAlignment__options').style.zIndex=-1;e.currentTarget.querySelector('.verticalAlignment__options').style.pointerEvents='none';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"verticalAlignment\",tabIndex:\"-1\",onMouseEnter:recordMouseEnter,onMouseLeave:recordMouseLeave,onBlur:hideDropdown,children:[/*#__PURE__*/_jsx(\"button\",{className:\"verticalAlignment__btn verticalAlignment__icon\",onClick:toggleDropdown,children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(verticalAlignment,\".png\"),alt:verticalAlignment+' alignment'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"verticalAlignment__options\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"verticalAlignment__top\",className:\"verticalAlignment__icon\",onClick:function onClick(){return updateVerticalAlignment(selectionEntries,verticalAlignment,'top');},children:/*#__PURE__*/_jsx(\"img\",{src:\"top.png\",alt:\"top alignment\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"verticalAlignment__center\",className:\"verticalAlignment__icon\",onClick:function onClick(){return updateVerticalAlignment(selectionEntries,verticalAlignment,'center');},children:/*#__PURE__*/_jsx(\"img\",{src:\"center.png\",alt:\"center vertical alignment\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"verticalAlignment__bottom\",className:\"verticalAlignment__icon\",onClick:function onClick(){return updateVerticalAlignment(selectionEntries,verticalAlignment,'bottom');},children:/*#__PURE__*/_jsx(\"img\",{src:\"bottom.png\",alt:\"bottom alignment\"})})]})]});}var updateVerticalAlignment=function updateVerticalAlignment(selectionEntries,prevVerticalAlignment,newVerticalAlignment){var prevData=new Data();var newData=new Data();if(prevVerticalAlignment==newVerticalAlignment)return;var _iterator=_createForOfIteratorHelper(selectionEntries.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var cell=_step.value;var _cell$split$map=cell.split(',').map(function(num){return parseInt(num,10);}),_cell$split$map2=_slicedToArray(_cell$split$map,2),rowNum=_cell$split$map2[0],colNum=_cell$split$map2[1];prevData.setIndividualEntry('.row'+rowNum+'.col'+colNum,new Map([['verticalAlignment',prevVerticalAlignment]]),rowNum,colNum,null);newData.setIndividualEntry('.row'+rowNum+'.col'+colNum,new Map([['verticalAlignment',newVerticalAlignment]]),rowNum,colNum,null);document.querySelector(\".row\".concat(rowNum,\".col\").concat(colNum,\">.cellValueDiv\")).style.justifyContent=parseVerticalAlignment(newVerticalAlignment);}}catch(err){_iterator.e(err);}finally{_iterator.f();}recordChange(prevData,newData);store.dispatch(setVerticalAlignment({verticalAlignment:newVerticalAlignment}));};var parseVerticalAlignment=function parseVerticalAlignment(term){switch(term){case'top':return'flex-start';case'center':return'center';case'bottom':return'flex-end';default:break;}};export{VerticalAlignment,updateVerticalAlignment,parseVerticalAlignment};","map":{"version":3,"names":["React","useState","store","useSelector","getVerticalAlignment","setVerticalAlignment","Data","recordChange","VerticalAlignment","selectionEntries","insideDropdown","setInsideDropdown","verticalAlignment","toggleDropdown","e","dropdown","target","parentElement","querySelector","style","opacity","zIndex","pointerEvents","recordMouseEnter","recordMouseLeave","hideDropdown","currentTarget","updateVerticalAlignment","prevVerticalAlignment","newVerticalAlignment","prevData","newData","values","cell","split","map","num","parseInt","rowNum","colNum","setIndividualEntry","Map","document","justifyContent","parseVerticalAlignment","dispatch","term"],"sources":["C:/Users/rband/Desktop/SpreadsheetPanel/client/src/components/FormatPanel/components/VerticalAlignment/VerticalAlignment.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { store } from '../../../../store/store.js'\r\nimport { useSelector } from 'react-redux';\r\nimport { getVerticalAlignment, setVerticalAlignment } from '../../../../store/reducers/selectionSlice.js';\r\nimport Data from \"../../../../data/data.js\";\r\nimport recordChange from \"../../../../data/modifiers/recordChange.js\";\r\nimport './VerticalAlignment.css'\r\n\r\nfunction VerticalAlignment({ selectionEntries }) {\r\n    const [insideDropdown, setInsideDropdown] = useState(false);\r\n    const verticalAlignment = useSelector(getVerticalAlignment);\r\n\r\n    let toggleDropdown = (e) => {\r\n        let dropdown = e.target.parentElement.querySelector('.verticalAlignment__options');\r\n        if (dropdown.style.opacity == 1) {\r\n            dropdown.style.opacity = 0;\r\n            dropdown.style.zIndex = -1;\r\n            dropdown.style.pointerEvents = 'none';\r\n        } else {\r\n            dropdown.style.opacity = 1;\r\n            dropdown.style.zIndex = 3;\r\n            dropdown.style.pointerEvents = 'auto';\r\n        }\r\n    }\r\n\r\n    let recordMouseEnter = () => {\r\n        setInsideDropdown(true);\r\n    }\r\n\r\n    let recordMouseLeave = () => {\r\n        setInsideDropdown(false);\r\n    }\r\n\r\n    let hideDropdown = (e) => {\r\n        if (!insideDropdown) {\r\n            e.currentTarget.querySelector('.verticalAlignment__options').style.opacity = 0;\r\n            e.currentTarget.querySelector('.verticalAlignment__options').style.zIndex = -1;\r\n            e.currentTarget.querySelector('.verticalAlignment__options').style.pointerEvents = 'none';\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='verticalAlignment' tabIndex='-1' onMouseEnter={recordMouseEnter} onMouseLeave={recordMouseLeave} onBlur={hideDropdown} >\r\n            <button className='verticalAlignment__btn verticalAlignment__icon' onClick={toggleDropdown}>\r\n                <img src={`${verticalAlignment}.png`} alt={verticalAlignment + ' alignment'} />\r\n            </button>\r\n            <div className='verticalAlignment__options'>\r\n                <div id='verticalAlignment__top' className='verticalAlignment__icon' onClick={() => updateVerticalAlignment(selectionEntries, verticalAlignment, 'top')}>\r\n                    <img src='top.png' alt='top alignment' />\r\n                </div>\r\n                <div id='verticalAlignment__center' className='verticalAlignment__icon' onClick={() => updateVerticalAlignment(selectionEntries, verticalAlignment, 'center')}>\r\n                    <img src='center.png' alt='center vertical alignment' />\r\n                </div>\r\n                <div id='verticalAlignment__bottom' className='verticalAlignment__icon' onClick={() => updateVerticalAlignment(selectionEntries, verticalAlignment, 'bottom')}>\r\n                    <img src='bottom.png' alt='bottom alignment' />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nlet updateVerticalAlignment = (selectionEntries, prevVerticalAlignment, newVerticalAlignment) => {\r\n    let prevData = new Data();\r\n    let newData = new Data();\r\n    if (prevVerticalAlignment == newVerticalAlignment) return;\r\n    for (const cell of selectionEntries.values()) {\r\n        let [rowNum, colNum] = cell.split(',').map((num) => parseInt(num, 10));\r\n        prevData.setIndividualEntry('.row' + rowNum + '.col' + colNum, new Map([['verticalAlignment', prevVerticalAlignment]]), rowNum, colNum, null);\r\n        newData.setIndividualEntry('.row' + rowNum + '.col' + colNum, new Map([['verticalAlignment', newVerticalAlignment]]), rowNum, colNum, null);\r\n        document.querySelector(`.row${rowNum}.col${colNum}>.cellValueDiv`).style.justifyContent = parseVerticalAlignment(newVerticalAlignment);\r\n    }\r\n    recordChange(prevData, newData);\r\n    store.dispatch(setVerticalAlignment({ verticalAlignment: newVerticalAlignment }));\r\n}\r\n\r\nlet parseVerticalAlignment = (term) => {\r\n    switch (term) {\r\n        case 'top': return 'flex-start';\r\n        case 'center': return 'center';\r\n        case 'bottom': return 'flex-end';\r\n        default: break;\r\n    }\r\n}\r\n\r\nexport { VerticalAlignment, updateVerticalAlignment, parseVerticalAlignment };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}