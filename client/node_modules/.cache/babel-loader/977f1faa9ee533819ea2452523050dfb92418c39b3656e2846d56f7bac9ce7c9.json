{"ast":null,"code":"import _slicedToArray from\"C:/Users/rband/Desktop/SpreadsheetPanel/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import loadedSheet from'../SpreadSheetPanel/SpreadSheetPanel.js';import{buildSheet,AxisX,AxisY,table}from'./helpers/buildSheet/buildSheet.js';import{applyResizers}from'./handlers/resizingHandler/resizingHandler.js';import applyCellHandlers from'./handlers/cellHandler/cellHandler.js';import{applyScrollSnapHandlers}from'./handlers/scrollSnapHandler/scrollSnapHandler.js';import{batchTurn,testSequence}from'../../tests/sequenceHelpers.js';import unitTest from'./tests/unitTest.js';import'./TablePanel.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TablePanel(props){var rows=props.rows,cols=props.cols,rowHeight=props.rowHeight,colWidth=props.colWidth;var _buildSheet=buildSheet(loadedSheet,parseInt(rows,10),parseInt(cols,10),parseInt(rowHeight,10),parseInt(colWidth,10)),_buildSheet2=_slicedToArray(_buildSheet,2),tableHeight=_buildSheet2[0],tableWidth=_buildSheet2[1];var _useState=useState(AxisX),_useState2=_slicedToArray(_useState,2),sheetAxisX=_useState2[0],setSheetAxisX=_useState2[1];var _useState3=useState(AxisY),_useState4=_slicedToArray(_useState3,2),sheetAxisY=_useState4[0],setSheetAxisY=_useState4[1];var _useState5=useState(table),_useState6=_slicedToArray(_useState5,2),sheetTable=_useState6[0],setSheetTable=_useState6[1];useEffect(function(){applyResizers();// resizers.js\napplyCellHandlers();applyScrollSnapHandlers();var loadTimer=setInterval(function(){if(loadedSheet!=null){buildSheet(loadedSheet,parseInt(rows,10),parseInt(cols,10),parseInt(rowHeight,10),parseInt(colWidth,10));setSheetAxisX(AxisX);setSheetAxisY(AxisY);setSheetTable(table);clearInterval(loadTimer);}},500);var timer=setInterval(function(){if(batchTurn.current==testSequence.get('TablePanel').turnNumber){unitTest(testSequence.get('TablePanel').tests,loadedSheet,rows,cols,rowHeight,colWidth);clearInterval(timer);}},500);},[]);return/*#__PURE__*/_jsx(\"div\",{id:\"tableDiv\",tabIndex:\"-1\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"table\",style:{position:'absolute',height:'100%',width:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row0 col0 origin\",style:{height:'22px',width:'50px',boxShadow:'inset -4px -4px 0 1px #ACACAC',zIndex:4}}),sheetAxisX,sheetAxisY,/*#__PURE__*/_jsx(\"div\",{id:\"tableEntryCellsWindow\",children:/*#__PURE__*/_jsx(\"div\",{id:\"scrollBarLayer\",style:{width:tableWidth-50+'px',height:tableHeight-22+'px'}})}),/*#__PURE__*/_jsx(\"div\",{id:\"tableEntryCells\",style:{position:'relative',height:'calc(100% - 38px)',width:'calc(100% - 50px - 18px)',marginLeft:'50px',marginTop:'22px',overflow:'hidden'},children:sheetTable})]})});}export default/*#__PURE__*/React.memo(TablePanel);","map":{"version":3,"names":["React","useState","useEffect","loadedSheet","buildSheet","AxisX","AxisY","table","applyResizers","applyCellHandlers","applyScrollSnapHandlers","batchTurn","testSequence","unitTest","TablePanel","props","rows","cols","rowHeight","colWidth","parseInt","tableHeight","tableWidth","sheetAxisX","setSheetAxisX","sheetAxisY","setSheetAxisY","sheetTable","setSheetTable","loadTimer","setInterval","clearInterval","timer","current","get","turnNumber","tests","position","height","width","boxShadow","zIndex","marginLeft","marginTop","overflow","memo"],"sources":["C:/Users/rband/Desktop/SpreadsheetPanel/client/src/components/TablePanel/TablePanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport loadedSheet from '../SpreadSheetPanel/SpreadSheetPanel.js';\r\nimport { buildSheet, AxisX, AxisY, table } from './helpers/buildSheet/buildSheet.js'\r\nimport { applyResizers } from './handlers/resizingHandler/resizingHandler.js'\r\nimport applyCellHandlers from './handlers/cellHandler/cellHandler.js';\r\nimport { applyScrollSnapHandlers } from './handlers/scrollSnapHandler/scrollSnapHandler.js';\r\nimport { batchTurn, testSequence } from '../../tests/sequenceHelpers.js';\r\nimport unitTest from './tests/unitTest.js';\r\nimport './TablePanel.css';\r\n\r\nfunction TablePanel(props) {\r\n    let { rows, cols, rowHeight, colWidth } = props;\r\n    let [tableHeight, tableWidth] = buildSheet(loadedSheet, parseInt(rows, 10), parseInt(cols, 10), parseInt(rowHeight, 10), parseInt(colWidth, 10))\r\n    const [sheetAxisX, setSheetAxisX] = useState(AxisX);\r\n    const [sheetAxisY, setSheetAxisY] = useState(AxisY);\r\n    const [sheetTable, setSheetTable] = useState(table);\r\n\r\n    useEffect(() => {\r\n        applyResizers(); // resizers.js\r\n        applyCellHandlers();\r\n        applyScrollSnapHandlers();\r\n\r\n        let loadTimer = setInterval(() => {\r\n            if (loadedSheet != null) {\r\n                buildSheet(loadedSheet, parseInt(rows, 10), parseInt(cols, 10), parseInt(rowHeight, 10), parseInt(colWidth, 10));\r\n                setSheetAxisX(AxisX);\r\n                setSheetAxisY(AxisY);\r\n                setSheetTable(table);\r\n                clearInterval(loadTimer);\r\n            }\r\n        }, 500);\r\n\r\n        let timer = setInterval(() => {\r\n            if (batchTurn.current == testSequence.get('TablePanel').turnNumber) {\r\n                unitTest(testSequence.get('TablePanel').tests, loadedSheet, rows, cols, rowHeight, colWidth);\r\n                clearInterval(timer);\r\n            }\r\n        }, 500);\r\n    }, []);\r\n\r\n    return (\r\n        <div id='tableDiv' tabIndex='-1'>\r\n            <div id='table' style={{ position: 'absolute', height: '100%', width: '100%' }}>\r\n                <div className='row0 col0 origin' style={{ height: '22px', width: '50px', boxShadow: 'inset -4px -4px 0 1px #ACACAC', zIndex: 4 }}></div>\r\n                {sheetAxisX}\r\n                {sheetAxisY}\r\n                <div id='tableEntryCellsWindow'>\r\n                    <div id='scrollBarLayer' style={{ width: tableWidth - 50 + 'px', height: tableHeight - 22 + 'px' }}></div>\r\n                </div>\r\n                <div id='tableEntryCells' style={{ position: 'relative', height: 'calc(100% - 38px)', width: 'calc(100% - 50px - 18px)', marginLeft: '50px', marginTop: '22px', overflow: 'hidden' }}>\r\n                    {sheetTable}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default React.memo(TablePanel);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}