{"ast":null,"code":"import _slicedToArray from\"C:/Users/rband/Desktop/SpreadsheetPanel/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _createForOfIteratorHelper from\"C:/Users/rband/Desktop/SpreadsheetPanel/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import React from\"react\";import{store}from'./../../../../store/store.js';import{useSelector}from'react-redux';import{getFontFamily,setFontFamily}from'../../../../store/reducers/selectionSlice.js';import Data from\"../../../../data/data.js\";import recordChange from\"../../../../data/modifiers/recordChange.js\";import'./FontFamily.css';import{jsx as _jsx}from\"react/jsx-runtime\";var fonts=['Calibri','Times New Roman','Ebrima','Century Gothic'];var options=[];for(var i=0;i<fonts.length;++i){options.push(/*#__PURE__*/_jsx(\"option\",{value:fonts[i],children:fonts[i]},i));}function FontFamily(_ref){var selectionEntries=_ref.selectionEntries;var fontFamily=useSelector(getFontFamily);var handleChange=function handleChange(e){updateFontFamily(selectionEntries,fontFamily,e.target.value);};return/*#__PURE__*/_jsx(\"div\",{className:\"fontFamily\",children:/*#__PURE__*/_jsx(\"select\",{className:\"fontFamily__select\",value:fontFamily,onChange:handleChange,children:options})});}function updateFontFamily(selectionEntries,prevFontFamily,newFontFamily){var prevData=new Data();var newData=new Data();var _iterator=_createForOfIteratorHelper(selectionEntries.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var cell=_step.value;var _cell$split$map=cell.split(',').map(function(num){return parseInt(num,10);}),_cell$split$map2=_slicedToArray(_cell$split$map,2),rowNum=_cell$split$map2[0],colNum=_cell$split$map2[1];prevData.setIndividualEntry('.row'+rowNum+'.col'+colNum,new Map([['fontFamily',prevFontFamily]]),rowNum,colNum,null);newData.setIndividualEntry('.row'+rowNum+'.col'+colNum,new Map([['fontFamily',newFontFamily]]),rowNum,colNum,null);document.querySelector(\".row\".concat(rowNum,\".col\").concat(colNum,\">.cellValueDiv>.cellValue\")).style.fontFamily=newFontFamily;}}catch(err){_iterator.e(err);}finally{_iterator.f();}recordChange(prevData,newData);store.dispatch(setFontFamily({fontFamily:newFontFamily}));}export{FontFamily,updateFontFamily};","map":{"version":3,"names":["React","store","useSelector","getFontFamily","setFontFamily","Data","recordChange","fonts","options","i","length","push","FontFamily","selectionEntries","fontFamily","handleChange","e","updateFontFamily","target","value","prevFontFamily","newFontFamily","prevData","newData","values","cell","split","map","num","parseInt","rowNum","colNum","setIndividualEntry","Map","document","querySelector","style","dispatch"],"sources":["C:/Users/rband/Desktop/SpreadsheetPanel/client/src/components/FormatPanel/components/FontFamily/FontFamily.js"],"sourcesContent":["import React from \"react\";\r\nimport { store } from './../../../../store/store.js'\r\nimport { useSelector } from 'react-redux';\r\nimport { getFontFamily, setFontFamily } from '../../../../store/reducers/selectionSlice.js';\r\nimport Data from \"../../../../data/data.js\";\r\nimport recordChange from \"../../../../data/modifiers/recordChange.js\";\r\nimport './FontFamily.css'\r\n\r\nlet fonts = ['Calibri', 'Times New Roman', 'Ebrima', 'Century Gothic'];\r\nlet options = [];\r\nfor (let i = 0; i < fonts.length; ++i) {\r\n    options.push(<option key={i} value={fonts[i]}>{fonts[i]}</option>);\r\n}\r\n\r\nfunction FontFamily({ selectionEntries }) {\r\n    const fontFamily = useSelector(getFontFamily);\r\n\r\n    let handleChange = (e) => {\r\n        updateFontFamily(selectionEntries, fontFamily, e.target.value)\r\n    }\r\n\r\n    return (\r\n        <div className='fontFamily'>\r\n            <select className='fontFamily__select' value={fontFamily} onChange={handleChange}>\r\n                {options}\r\n            </select>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction updateFontFamily(selectionEntries, prevFontFamily, newFontFamily) {\r\n    let prevData = new Data();\r\n    let newData = new Data();\r\n    for (const cell of selectionEntries.values()) {\r\n        let [rowNum, colNum] = cell.split(',').map((num) => parseInt(num, 10));\r\n        prevData.setIndividualEntry('.row' + rowNum + '.col' + colNum, new Map([['fontFamily', prevFontFamily]]), rowNum, colNum, null);\r\n        newData.setIndividualEntry('.row' + rowNum + '.col' + colNum, new Map([['fontFamily', newFontFamily]]), rowNum, colNum, null);\r\n        document.querySelector(`.row${rowNum}.col${colNum}>.cellValueDiv>.cellValue`).style.fontFamily = newFontFamily;\r\n    }\r\n    recordChange(prevData, newData);\r\n    store.dispatch(setFontFamily({ fontFamily: newFontFamily }));\r\n}\r\n\r\nexport { FontFamily, updateFontFamily };"],"mappings":"gSAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,KAAK,KAAQ,8BAA8B,CACpD,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,aAAa,CAAEC,aAAa,KAAQ,8CAA8C,CAC3F,MAAOC,KAAI,KAAM,0BAA0B,CAC3C,MAAOC,aAAY,KAAM,4CAA4C,CACrE,MAAO,kBAAkB,4CAEzB,GAAIC,MAAK,CAAG,CAAC,SAAS,CAAE,iBAAiB,CAAE,QAAQ,CAAE,gBAAgB,CAAC,CACtE,GAAIC,QAAO,CAAG,EAAE,CAChB,IAAK,GAAIC,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGF,KAAK,CAACG,MAAM,CAAE,EAAED,CAAC,CAAE,CACnCD,OAAO,CAACG,IAAI,cAAC,eAAgB,KAAK,CAAEJ,KAAK,CAACE,CAAC,CAAE,UAAEF,KAAK,CAACE,CAAC,CAAC,EAA7BA,CAAC,CAAsC,CAAC,CACtE,CAEA,QAASG,WAAU,MAAuB,IAApBC,iBAAgB,MAAhBA,gBAAgB,CAClC,GAAMC,WAAU,CAAGZ,WAAW,CAACC,aAAa,CAAC,CAE7C,GAAIY,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CACtBC,gBAAgB,CAACJ,gBAAgB,CAAEC,UAAU,CAAEE,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAClE,CAAC,CAED,mBACI,YAAK,SAAS,CAAC,YAAY,uBACvB,eAAQ,SAAS,CAAC,oBAAoB,CAAC,KAAK,CAAEL,UAAW,CAAC,QAAQ,CAAEC,YAAa,UAC5EP,OAAO,EACH,EACP,CAEd,CAEA,QAASS,iBAAgB,CAACJ,gBAAgB,CAAEO,cAAc,CAAEC,aAAa,CAAE,CACvE,GAAIC,SAAQ,CAAG,GAAIjB,KAAI,EAAE,CACzB,GAAIkB,QAAO,CAAG,GAAIlB,KAAI,EAAE,CAAC,yCACNQ,gBAAgB,CAACW,MAAM,EAAE,YAA5C,+CAA8C,IAAnCC,KAAI,aACX,oBAAuBA,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,SAACC,GAAG,QAAKC,SAAQ,CAACD,GAAG,CAAE,EAAE,CAAC,GAAC,oDAAjEE,MAAM,qBAAEC,MAAM,qBACnBT,QAAQ,CAACU,kBAAkB,CAAC,MAAM,CAAGF,MAAM,CAAG,MAAM,CAAGC,MAAM,CAAE,GAAIE,IAAG,CAAC,CAAC,CAAC,YAAY,CAAEb,cAAc,CAAC,CAAC,CAAC,CAAEU,MAAM,CAAEC,MAAM,CAAE,IAAI,CAAC,CAC/HR,OAAO,CAACS,kBAAkB,CAAC,MAAM,CAAGF,MAAM,CAAG,MAAM,CAAGC,MAAM,CAAE,GAAIE,IAAG,CAAC,CAAC,CAAC,YAAY,CAAEZ,aAAa,CAAC,CAAC,CAAC,CAAES,MAAM,CAAEC,MAAM,CAAE,IAAI,CAAC,CAC7HG,QAAQ,CAACC,aAAa,eAAQL,MAAM,gBAAOC,MAAM,8BAA4B,CAACK,KAAK,CAACtB,UAAU,CAAGO,aAAa,CAClH,CAAC,qDACDf,YAAY,CAACgB,QAAQ,CAAEC,OAAO,CAAC,CAC/BtB,KAAK,CAACoC,QAAQ,CAACjC,aAAa,CAAC,CAAEU,UAAU,CAAEO,aAAc,CAAC,CAAC,CAAC,CAChE,CAEA,OAAST,UAAU,CAAEK,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}