{"ast":null,"code":"import _toConsumableArray from\"C:/Users/rband/Desktop/SpreadsheetPanel/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{checkReactionOfResizing}from\"../components/TablePanel/handlers/resizingHandler/test\";import{checkReactionOfTextChange}from\"../components/TablePanel/handlers/cellHandler/textChangeHandler/test\";import{validateSequence,checkReactionOfKeyInput}from\"../components/SpreadSheetPanel/handlers/keyboardEvents/test\";import{checkReactionOfSingleClickSelection,checkReactionOfDoubleClickSelection}from\"../components/TablePanel/handlers/cellHandler/selectionHandler/test\";import{UNDO_DISPATCH,UNDO_FINISH,REDO_DISPATCH,REDO_FINISH,FLUFF_FULL}from'./../components/SpreadSheetPanel/handlers/keyboardEvents/keyMacros.js';var X_AXIS='X_AXIS';var Y_AXIS='Y_AXIS';function endToEnd(atomicTurn){// sequence of atomic tests\nvar axisCellsX=document.querySelectorAll('.AxisX');var axisCellsY=document.querySelectorAll('.AxisY');var resizeEvents=[[Y_AXIS,[1,2,3],20],[Y_AXIS,[2,5,6],10],[Y_AXIS,[1,2,3],-10],[X_AXIS,[2,5,6],-20]];var keyEvents=[UNDO_DISPATCH,UNDO_FINISH,UNDO_DISPATCH,UNDO_FINISH,REDO_DISPATCH,REDO_FINISH,REDO_DISPATCH,REDO_FINISH,REDO_DISPATCH,REDO_FINISH,FLUFF_FULL];var clickSelections=[[4,5],[1,1],[3,7],[8,2],[2,4]];var textEntries=['blah','burger','hello','world','apple','fun'];var totalKeyInputTestCases=validateSequence(keyEvents);if(totalKeyInputTestCases==-1)return;var keyInputTestCaseIndex=1;try{/*for (let i = 0; i < clickSelections.length; ++i) {\r\n            if (i == 0) checkReactionOfSingleClickSelection(clickSelections[i][0], clickSelections[i][1], atomicTurn, true);\r\n            else checkReactionOfSingleClickSelection(clickSelections[i][0], clickSelections[i][1], atomicTurn);\r\n        }*/for(var i=0;i<clickSelections.length;++i){if(i==0)checkReactionOfDoubleClickSelection(i+1,clickSelections[i],atomicTurn,true,clickSelections.length);else checkReactionOfDoubleClickSelection(i+1,clickSelections[i],atomicTurn,false,clickSelections.length);if(i<textEntries.length)checkReactionOfTextChange(i+1,[].concat(_toConsumableArray(clickSelections[i]),[textEntries[i]]),atomicTurn,false,clickSelections.length);}var keyState=new Set();for(var _i=0;_i<keyEvents.length;++_i){for(var j=0;j<keyEvents[_i].length;++j){if(_i==0&&j==0)checkReactionOfKeyInput(keyInputTestCaseIndex,keyEvents[_i][j],keyState,atomicTurn,true,totalKeyInputTestCases);else checkReactionOfKeyInput(++keyInputTestCaseIndex,keyEvents[_i][j],keyState,atomicTurn,false,totalKeyInputTestCases);}}var _loop=function _loop(){var chosenCells=[];if(resizeEvents[_i2][0]==X_AXIS)resizeEvents[_i2][1].map(function(cellNum){return chosenCells.push(axisCellsX[cellNum]);});else if(resizeEvents[_i2][0]==Y_AXIS)resizeEvents[_i2][1].map(function(cellNum){return chosenCells.push(axisCellsY[cellNum]);});if(_i2==0)checkReactionOfResizing(_i2+1,[chosenCells,resizeEvents[_i2][2]],atomicTurn,true,resizeEvents.length);else checkReactionOfResizing(_i2+1,[chosenCells,resizeEvents[_i2][2]],atomicTurn,false,resizeEvents.length);};for(var _i2=0;_i2<resizeEvents.length;++_i2){_loop();}keyInputTestCaseIndex=1;keyState=new Set();for(var _i3=0;_i3<keyEvents.length;++_i3){for(var _j=0;_j<keyEvents[_i3].length;++_j){if(_i3==0&&_j==0)checkReactionOfKeyInput(keyInputTestCaseIndex,keyEvents[_i3][_j],keyState,atomicTurn,true,totalKeyInputTestCases);else checkReactionOfKeyInput(++keyInputTestCaseIndex,keyEvents[_i3][_j],keyState,atomicTurn,false,totalKeyInputTestCases);}}var timer=setInterval(function(){if(atomicTurn.current==atomicTurn.nextAvailable){var testNum=document.querySelector('#testConsoleStatus').innerHTML.match(/(\\d+)/)[0];document.querySelector('#testConsoleStatus').innerHTML=parseInt(testNum,10)+1+' SUCCESS';clearInterval(timer);}},500);}catch(e){console.log('Error: '+e);}}export default endToEnd;","map":{"version":3,"names":["checkReactionOfResizing","checkReactionOfTextChange","validateSequence","checkReactionOfKeyInput","checkReactionOfSingleClickSelection","checkReactionOfDoubleClickSelection","UNDO_DISPATCH","UNDO_FINISH","REDO_DISPATCH","REDO_FINISH","FLUFF_FULL","X_AXIS","Y_AXIS","endToEnd","atomicTurn","axisCellsX","document","querySelectorAll","axisCellsY","resizeEvents","keyEvents","clickSelections","textEntries","totalKeyInputTestCases","keyInputTestCaseIndex","i","length","keyState","Set","j","chosenCells","map","cellNum","push","timer","setInterval","current","nextAvailable","testNum","querySelector","innerHTML","match","parseInt","clearInterval","e","console","log"],"sources":["C:/Users/rband/Desktop/SpreadsheetPanel/client/src/tests/endToEnd.js"],"sourcesContent":["import { checkReactionOfResizing } from \"../components/TablePanel/handlers/resizingHandler/test\";\r\nimport { checkReactionOfTextChange } from \"../components/TablePanel/handlers/cellHandler/textChangeHandler/test\";\r\nimport { validateSequence, checkReactionOfKeyInput } from \"../components/SpreadSheetPanel/handlers/keyboardEvents/test\";\r\nimport { checkReactionOfSingleClickSelection, checkReactionOfDoubleClickSelection } from \"../components/TablePanel/handlers/cellHandler/selectionHandler/test\";\r\nimport { UNDO_DISPATCH, UNDO_FINISH, REDO_DISPATCH, REDO_FINISH, FLUFF_FULL } from './../components/SpreadSheetPanel/handlers/keyboardEvents/keyMacros.js'\r\n\r\nconst X_AXIS = 'X_AXIS';\r\nconst Y_AXIS = 'Y_AXIS';\r\n\r\nfunction endToEnd(atomicTurn) {\r\n\r\n    // sequence of atomic tests\r\n    let axisCellsX = document.querySelectorAll('.AxisX');\r\n    let axisCellsY = document.querySelectorAll('.AxisY');\r\n    let resizeEvents = [[Y_AXIS, [1, 2, 3], 20], [Y_AXIS, [2, 5, 6], 10], [Y_AXIS, [1, 2, 3], -10], [X_AXIS, [2, 5, 6], -20]];\r\n    let keyEvents = [UNDO_DISPATCH, UNDO_FINISH, UNDO_DISPATCH, UNDO_FINISH, REDO_DISPATCH, REDO_FINISH, REDO_DISPATCH, REDO_FINISH, REDO_DISPATCH, REDO_FINISH, FLUFF_FULL];\r\n    let clickSelections = [[4, 5], [1, 1], [3, 7], [8, 2], [2, 4]];\r\n    let textEntries = ['blah', 'burger', 'hello', 'world', 'apple', 'fun'];\r\n\r\n    let totalKeyInputTestCases = validateSequence(keyEvents);\r\n    if (totalKeyInputTestCases == -1) return;\r\n    let keyInputTestCaseIndex = 1;\r\n    try {\r\n        /*for (let i = 0; i < clickSelections.length; ++i) {\r\n            if (i == 0) checkReactionOfSingleClickSelection(clickSelections[i][0], clickSelections[i][1], atomicTurn, true);\r\n            else checkReactionOfSingleClickSelection(clickSelections[i][0], clickSelections[i][1], atomicTurn);\r\n        }*/\r\n        for (let i = 0; i < clickSelections.length; ++i) {\r\n            if (i == 0) checkReactionOfDoubleClickSelection(i + 1, clickSelections[i], atomicTurn, true, clickSelections.length);\r\n            else checkReactionOfDoubleClickSelection(i + 1, clickSelections[i], atomicTurn, false, clickSelections.length);\r\n            if (i < textEntries.length) checkReactionOfTextChange(i + 1, [...clickSelections[i], textEntries[i]], atomicTurn, false, clickSelections.length)\r\n        }\r\n        let keyState = new Set();\r\n        for (let i = 0; i < keyEvents.length; ++i) {\r\n            for (let j = 0; j < keyEvents[i].length; ++j) {\r\n                if (i == 0 && j == 0) checkReactionOfKeyInput(keyInputTestCaseIndex, keyEvents[i][j], keyState, atomicTurn, true, totalKeyInputTestCases);\r\n                else checkReactionOfKeyInput(++keyInputTestCaseIndex, keyEvents[i][j], keyState, atomicTurn, false, totalKeyInputTestCases);\r\n            }\r\n        }\r\n        for (let i = 0; i < resizeEvents.length; ++i) {\r\n            let chosenCells = [];\r\n            if (resizeEvents[i][0] == X_AXIS) resizeEvents[i][1].map(cellNum => chosenCells.push(axisCellsX[cellNum]))\r\n            else if (resizeEvents[i][0] == Y_AXIS) resizeEvents[i][1].map(cellNum => chosenCells.push(axisCellsY[cellNum]))\r\n            if (i == 0) checkReactionOfResizing(i + 1, [chosenCells, resizeEvents[i][2]], atomicTurn, true, resizeEvents.length);\r\n            else checkReactionOfResizing(i + 1, [chosenCells, resizeEvents[i][2]], atomicTurn, false, resizeEvents.length);\r\n        }\r\n        keyInputTestCaseIndex = 1;\r\n        keyState = new Set();\r\n        for (let i = 0; i < keyEvents.length; ++i) {\r\n            for (let j = 0; j < keyEvents[i].length; ++j) {\r\n                if (i == 0 && j == 0) checkReactionOfKeyInput(keyInputTestCaseIndex, keyEvents[i][j], keyState, atomicTurn, true, totalKeyInputTestCases);\r\n                else checkReactionOfKeyInput(++keyInputTestCaseIndex, keyEvents[i][j], keyState, atomicTurn, false, totalKeyInputTestCases);\r\n            }\r\n        }\r\n        let timer = setInterval(() => {\r\n            if (atomicTurn.current == atomicTurn.nextAvailable) {\r\n                let testNum = document.querySelector('#testConsoleStatus').innerHTML.match(/(\\d+)/)[0];\r\n                document.querySelector('#testConsoleStatus').innerHTML = parseInt(testNum, 10) + 1 + ' SUCCESS';\r\n                clearInterval(timer);\r\n            }\r\n        }, 500)\r\n    } catch (e) {\r\n        console.log('Error: ' + e);\r\n    }\r\n}\r\n\r\nexport default endToEnd;"],"mappings":"4IAAA,OAASA,uBAAuB,KAAQ,wDAAwD,CAChG,OAASC,yBAAyB,KAAQ,sEAAsE,CAChH,OAASC,gBAAgB,CAAEC,uBAAuB,KAAQ,6DAA6D,CACvH,OAASC,mCAAmC,CAAEC,mCAAmC,KAAQ,qEAAqE,CAC9J,OAASC,aAAa,CAAEC,WAAW,CAAEC,aAAa,CAAEC,WAAW,CAAEC,UAAU,KAAQ,uEAAuE,CAE1J,GAAMC,OAAM,CAAG,QAAQ,CACvB,GAAMC,OAAM,CAAG,QAAQ,CAEvB,QAASC,SAAQ,CAACC,UAAU,CAAE,CAE1B;AACA,GAAIC,WAAU,CAAGC,QAAQ,CAACC,gBAAgB,CAAC,QAAQ,CAAC,CACpD,GAAIC,WAAU,CAAGF,QAAQ,CAACC,gBAAgB,CAAC,QAAQ,CAAC,CACpD,GAAIE,aAAY,CAAG,CAAC,CAACP,MAAM,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAE,EAAE,CAAC,CAAE,CAACA,MAAM,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAE,EAAE,CAAC,CAAE,CAACA,MAAM,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,EAAE,CAAC,CAAE,CAACD,MAAM,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,EAAE,CAAC,CAAC,CACzH,GAAIS,UAAS,CAAG,CAACd,aAAa,CAAEC,WAAW,CAAED,aAAa,CAAEC,WAAW,CAAEC,aAAa,CAAEC,WAAW,CAAED,aAAa,CAAEC,WAAW,CAAED,aAAa,CAAEC,WAAW,CAAEC,UAAU,CAAC,CACxK,GAAIW,gBAAe,CAAG,CAAC,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAC9D,GAAIC,YAAW,CAAG,CAAC,MAAM,CAAE,QAAQ,CAAE,OAAO,CAAE,OAAO,CAAE,OAAO,CAAE,KAAK,CAAC,CAEtE,GAAIC,uBAAsB,CAAGrB,gBAAgB,CAACkB,SAAS,CAAC,CACxD,GAAIG,sBAAsB,EAAI,CAAC,CAAC,CAAE,OAClC,GAAIC,sBAAqB,CAAG,CAAC,CAC7B,GAAI,CACA;AACR;AACA;AACA,WACQ,IAAK,GAAIC,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGJ,eAAe,CAACK,MAAM,CAAE,EAAED,CAAC,CAAE,CAC7C,GAAIA,CAAC,EAAI,CAAC,CAAEpB,mCAAmC,CAACoB,CAAC,CAAG,CAAC,CAAEJ,eAAe,CAACI,CAAC,CAAC,CAAEX,UAAU,CAAE,IAAI,CAAEO,eAAe,CAACK,MAAM,CAAC,CAAC,IAChHrB,oCAAmC,CAACoB,CAAC,CAAG,CAAC,CAAEJ,eAAe,CAACI,CAAC,CAAC,CAAEX,UAAU,CAAE,KAAK,CAAEO,eAAe,CAACK,MAAM,CAAC,CAC9G,GAAID,CAAC,CAAGH,WAAW,CAACI,MAAM,CAAEzB,yBAAyB,CAACwB,CAAC,CAAG,CAAC,8BAAMJ,eAAe,CAACI,CAAC,CAAC,GAAEH,WAAW,CAACG,CAAC,CAAC,GAAGX,UAAU,CAAE,KAAK,CAAEO,eAAe,CAACK,MAAM,CAAC,CACpJ,CACA,GAAIC,SAAQ,CAAG,GAAIC,IAAG,EAAE,CACxB,IAAK,GAAIH,GAAC,CAAG,CAAC,CAAEA,EAAC,CAAGL,SAAS,CAACM,MAAM,CAAE,EAAED,EAAC,CAAE,CACvC,IAAK,GAAII,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGT,SAAS,CAACK,EAAC,CAAC,CAACC,MAAM,CAAE,EAAEG,CAAC,CAAE,CAC1C,GAAIJ,EAAC,EAAI,CAAC,EAAII,CAAC,EAAI,CAAC,CAAE1B,uBAAuB,CAACqB,qBAAqB,CAAEJ,SAAS,CAACK,EAAC,CAAC,CAACI,CAAC,CAAC,CAAEF,QAAQ,CAAEb,UAAU,CAAE,IAAI,CAAES,sBAAsB,CAAC,CAAC,IACrIpB,wBAAuB,CAAC,EAAEqB,qBAAqB,CAAEJ,SAAS,CAACK,EAAC,CAAC,CAACI,CAAC,CAAC,CAAEF,QAAQ,CAAEb,UAAU,CAAE,KAAK,CAAES,sBAAsB,CAAC,CAC/H,CACJ,CAAC,0BAC6C,CAC1C,GAAIO,YAAW,CAAG,EAAE,CACpB,GAAIX,YAAY,CAACM,GAAC,CAAC,CAAC,CAAC,CAAC,EAAId,MAAM,CAAEQ,YAAY,CAACM,GAAC,CAAC,CAAC,CAAC,CAAC,CAACM,GAAG,CAAC,SAAAC,OAAO,QAAIF,YAAW,CAACG,IAAI,CAAClB,UAAU,CAACiB,OAAO,CAAC,CAAC,GAAC,KACrG,IAAIb,YAAY,CAACM,GAAC,CAAC,CAAC,CAAC,CAAC,EAAIb,MAAM,CAAEO,YAAY,CAACM,GAAC,CAAC,CAAC,CAAC,CAAC,CAACM,GAAG,CAAC,SAAAC,OAAO,QAAIF,YAAW,CAACG,IAAI,CAACf,UAAU,CAACc,OAAO,CAAC,CAAC,GAAC,CAC/G,GAAIP,GAAC,EAAI,CAAC,CAAEzB,uBAAuB,CAACyB,GAAC,CAAG,CAAC,CAAE,CAACK,WAAW,CAAEX,YAAY,CAACM,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAEX,UAAU,CAAE,IAAI,CAAEK,YAAY,CAACO,MAAM,CAAC,CAAC,IAChH1B,wBAAuB,CAACyB,GAAC,CAAG,CAAC,CAAE,CAACK,WAAW,CAAEX,YAAY,CAACM,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAEX,UAAU,CAAE,KAAK,CAAEK,YAAY,CAACO,MAAM,CAAC,CAClH,CAAC,CAND,IAAK,GAAID,IAAC,CAAG,CAAC,CAAEA,GAAC,CAAGN,YAAY,CAACO,MAAM,CAAE,EAAED,GAAC,WAO5CD,qBAAqB,CAAG,CAAC,CACzBG,QAAQ,CAAG,GAAIC,IAAG,EAAE,CACpB,IAAK,GAAIH,IAAC,CAAG,CAAC,CAAEA,GAAC,CAAGL,SAAS,CAACM,MAAM,CAAE,EAAED,GAAC,CAAE,CACvC,IAAK,GAAII,GAAC,CAAG,CAAC,CAAEA,EAAC,CAAGT,SAAS,CAACK,GAAC,CAAC,CAACC,MAAM,CAAE,EAAEG,EAAC,CAAE,CAC1C,GAAIJ,GAAC,EAAI,CAAC,EAAII,EAAC,EAAI,CAAC,CAAE1B,uBAAuB,CAACqB,qBAAqB,CAAEJ,SAAS,CAACK,GAAC,CAAC,CAACI,EAAC,CAAC,CAAEF,QAAQ,CAAEb,UAAU,CAAE,IAAI,CAAES,sBAAsB,CAAC,CAAC,IACrIpB,wBAAuB,CAAC,EAAEqB,qBAAqB,CAAEJ,SAAS,CAACK,GAAC,CAAC,CAACI,EAAC,CAAC,CAAEF,QAAQ,CAAEb,UAAU,CAAE,KAAK,CAAES,sBAAsB,CAAC,CAC/H,CACJ,CACA,GAAIW,MAAK,CAAGC,WAAW,CAAC,UAAM,CAC1B,GAAIrB,UAAU,CAACsB,OAAO,EAAItB,UAAU,CAACuB,aAAa,CAAE,CAChD,GAAIC,QAAO,CAAGtB,QAAQ,CAACuB,aAAa,CAAC,oBAAoB,CAAC,CAACC,SAAS,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CACtFzB,QAAQ,CAACuB,aAAa,CAAC,oBAAoB,CAAC,CAACC,SAAS,CAAGE,QAAQ,CAACJ,OAAO,CAAE,EAAE,CAAC,CAAG,CAAC,CAAG,UAAU,CAC/FK,aAAa,CAACT,KAAK,CAAC,CACxB,CACJ,CAAC,CAAE,GAAG,CAAC,CACX,CAAE,MAAOU,CAAC,CAAE,CACRC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAGF,CAAC,CAAC,CAC9B,CACJ,CAEA,cAAe/B,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}