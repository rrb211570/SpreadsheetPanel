{"ast":null,"code":"import _slicedToArray from\"C:/Users/rband/Desktop/SpreadsheetPanel/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import assembleTableData from'./helpers/assembleTableData.js';import{getRowWidth}from'./helpers/util.js';import{constructAxisX,constructAxisY}from'./helpers/constructAxes.js';import{constructTableModel}from'./helpers/constructTableModel.js';import{store}from'../../../../store/store.js';import{setTableDimensions}from'../../../../store/reducers/tableDimensionsSlice.js';import{setRowsAndCols}from'../../../../store/reducers/tableDimensionsSlice.js';var AxisX;var AxisY;var table;var buildSheet=function buildSheet(loadedSheet,defaultRows,defaultCols,defaultHeight,defaultWidth){var _loadRowsCols=loadRowsCols(loadedSheet,defaultRows,defaultCols),_loadRowsCols2=_slicedToArray(_loadRowsCols,2),totalRows=_loadRowsCols2[0],totalCols=_loadRowsCols2[1];var tableData=assembleTableData(loadedSheet,totalRows,totalCols,defaultHeight,defaultWidth);console.log(tableData);var rowWidth=getRowWidth(tableData);AxisX=constructAxisX(tableData,totalCols,defaultHeight,defaultWidth);AxisY=constructAxisY(tableData,totalRows,defaultWidth);table=constructTableModel(tableData,totalRows,totalCols,rowWidth);var tableHeight=(totalRows+1)*defaultHeight;var tableWidth=defaultCols*defaultWidth+defaultWidth/2;store.dispatch(setTableDimensions({height:tableHeight,width:tableWidth}));return[tableHeight,tableWidth];};function loadRowsCols(loadedSheet,defaultRows,defaultCols){var rowsAndCols;if(loadedSheet!=null&&loadedSheet.hasOwnProperty('data')){rowsAndCols=[parseInt(loadedSheet.rows,10),parseInt(loadedSheet.cols,10)];store.dispatch(setRowsAndCols({rows:parseInt(loadedSheet.rows,10),cols:parseInt(loadedSheet.cols,10)}));}else{rowsAndCols=[defaultRows,defaultCols];store.dispatch(setRowsAndCols({rows:defaultRows,cols:defaultCols}));}return rowsAndCols;}export{buildSheet,AxisX,AxisY,table};","map":{"version":3,"names":["assembleTableData","getRowWidth","constructAxisX","constructAxisY","constructTableModel","store","setTableDimensions","setRowsAndCols","AxisX","AxisY","table","buildSheet","loadedSheet","defaultRows","defaultCols","defaultHeight","defaultWidth","loadRowsCols","totalRows","totalCols","tableData","console","log","rowWidth","tableHeight","tableWidth","dispatch","height","width","rowsAndCols","hasOwnProperty","parseInt","rows","cols"],"sources":["C:/Users/rband/Desktop/SpreadsheetPanel/client/src/components/TablePanel/helpers/buildSheet/buildSheet.js"],"sourcesContent":["import assembleTableData from './helpers/assembleTableData.js';\r\nimport { getRowWidth } from './helpers/util.js';\r\nimport { constructAxisX, constructAxisY } from './helpers/constructAxes.js';\r\nimport { constructTableModel } from './helpers/constructTableModel.js';\r\nimport { store } from '../../../../store/store.js';\r\nimport { setTableDimensions } from '../../../../store/reducers/tableDimensionsSlice.js';\r\nimport { setRowsAndCols } from '../../../../store/reducers/tableDimensionsSlice.js';\r\n\r\nlet AxisX;\r\nlet AxisY;\r\nlet table;\r\n\r\nlet buildSheet = (loadedSheet, defaultRows, defaultCols, defaultHeight, defaultWidth) => {\r\n    let [totalRows, totalCols] = loadRowsCols(loadedSheet, defaultRows, defaultCols);\r\n    let tableData = assembleTableData(loadedSheet, totalRows, totalCols, defaultHeight, defaultWidth);\r\n    console.log(tableData);\r\n    let rowWidth = getRowWidth(tableData);\r\n\r\n    AxisX = constructAxisX(tableData, totalCols, defaultHeight, defaultWidth);\r\n    AxisY = constructAxisY(tableData, totalRows, defaultWidth);\r\n    table = constructTableModel(tableData, totalRows, totalCols, rowWidth);\r\n\r\n    const tableHeight = (totalRows + 1) * defaultHeight;\r\n    const tableWidth = (defaultCols * defaultWidth) + (defaultWidth / 2);\r\n    store.dispatch(setTableDimensions({ height: tableHeight, width: tableWidth }));\r\n    return [tableHeight, tableWidth];\r\n}\r\n\r\nfunction loadRowsCols(loadedSheet, defaultRows, defaultCols) {\r\n    let rowsAndCols;\r\n    if (loadedSheet != null && loadedSheet.hasOwnProperty('data')) {\r\n        rowsAndCols = [parseInt(loadedSheet.rows, 10), parseInt(loadedSheet.cols, 10)];\r\n        store.dispatch(setRowsAndCols({ rows: parseInt(loadedSheet.rows, 10), cols: parseInt(loadedSheet.cols, 10) }));\r\n    } else {\r\n        rowsAndCols = [defaultRows, defaultCols];\r\n        store.dispatch(setRowsAndCols({ rows: defaultRows, cols: defaultCols }));\r\n    }\r\n    return rowsAndCols;\r\n}\r\n\r\nexport { buildSheet, AxisX, AxisY, table };"],"mappings":"oIAAA,MAAOA,kBAAiB,KAAM,gCAAgC,CAC9D,OAASC,WAAW,KAAQ,mBAAmB,CAC/C,OAASC,cAAc,CAAEC,cAAc,KAAQ,4BAA4B,CAC3E,OAASC,mBAAmB,KAAQ,kCAAkC,CACtE,OAASC,KAAK,KAAQ,4BAA4B,CAClD,OAASC,kBAAkB,KAAQ,oDAAoD,CACvF,OAASC,cAAc,KAAQ,oDAAoD,CAEnF,GAAIC,MAAK,CACT,GAAIC,MAAK,CACT,GAAIC,MAAK,CAET,GAAIC,WAAU,CAAG,QAAbA,WAAU,CAAIC,WAAW,CAAEC,WAAW,CAAEC,WAAW,CAAEC,aAAa,CAAEC,YAAY,CAAK,CACrF,kBAA6BC,YAAY,CAACL,WAAW,CAAEC,WAAW,CAAEC,WAAW,CAAC,gDAA3EI,SAAS,mBAAEC,SAAS,mBACzB,GAAIC,UAAS,CAAGpB,iBAAiB,CAACY,WAAW,CAAEM,SAAS,CAAEC,SAAS,CAAEJ,aAAa,CAAEC,YAAY,CAAC,CACjGK,OAAO,CAACC,GAAG,CAACF,SAAS,CAAC,CACtB,GAAIG,SAAQ,CAAGtB,WAAW,CAACmB,SAAS,CAAC,CAErCZ,KAAK,CAAGN,cAAc,CAACkB,SAAS,CAAED,SAAS,CAAEJ,aAAa,CAAEC,YAAY,CAAC,CACzEP,KAAK,CAAGN,cAAc,CAACiB,SAAS,CAAEF,SAAS,CAAEF,YAAY,CAAC,CAC1DN,KAAK,CAAGN,mBAAmB,CAACgB,SAAS,CAAEF,SAAS,CAAEC,SAAS,CAAEI,QAAQ,CAAC,CAEtE,GAAMC,YAAW,CAAG,CAACN,SAAS,CAAG,CAAC,EAAIH,aAAa,CACnD,GAAMU,WAAU,CAAIX,WAAW,CAAGE,YAAY,CAAKA,YAAY,CAAG,CAAE,CACpEX,KAAK,CAACqB,QAAQ,CAACpB,kBAAkB,CAAC,CAAEqB,MAAM,CAAEH,WAAW,CAAEI,KAAK,CAAEH,UAAW,CAAC,CAAC,CAAC,CAC9E,MAAO,CAACD,WAAW,CAAEC,UAAU,CAAC,CACpC,CAAC,CAED,QAASR,aAAY,CAACL,WAAW,CAAEC,WAAW,CAAEC,WAAW,CAAE,CACzD,GAAIe,YAAW,CACf,GAAIjB,WAAW,EAAI,IAAI,EAAIA,WAAW,CAACkB,cAAc,CAAC,MAAM,CAAC,CAAE,CAC3DD,WAAW,CAAG,CAACE,QAAQ,CAACnB,WAAW,CAACoB,IAAI,CAAE,EAAE,CAAC,CAAED,QAAQ,CAACnB,WAAW,CAACqB,IAAI,CAAE,EAAE,CAAC,CAAC,CAC9E5B,KAAK,CAACqB,QAAQ,CAACnB,cAAc,CAAC,CAAEyB,IAAI,CAAED,QAAQ,CAACnB,WAAW,CAACoB,IAAI,CAAE,EAAE,CAAC,CAAEC,IAAI,CAAEF,QAAQ,CAACnB,WAAW,CAACqB,IAAI,CAAE,EAAE,CAAE,CAAC,CAAC,CAAC,CAClH,CAAC,IAAM,CACHJ,WAAW,CAAG,CAAChB,WAAW,CAAEC,WAAW,CAAC,CACxCT,KAAK,CAACqB,QAAQ,CAACnB,cAAc,CAAC,CAAEyB,IAAI,CAAEnB,WAAW,CAAEoB,IAAI,CAAEnB,WAAY,CAAC,CAAC,CAAC,CAC5E,CACA,MAAOe,YAAW,CACtB,CAEA,OAASlB,UAAU,CAAEH,KAAK,CAAEC,KAAK,CAAEC,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}