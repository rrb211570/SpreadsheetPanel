{"ast":null,"code":"import{getHeight,getWidth,getMarginLeft}from\"./util\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function constructTableModel(tableData,rows,cols,rowWidth){var keyIndex=0;var tableModel=[];var rowsArr=constructRows(tableData,rows,cols);for(var j=0;j<rowsArr.length;++j){var height=getHeight(tableData[j][0]);tableModel.push(/*#__PURE__*/_jsx(\"div\",{id:\"row\".concat(j+1),className:\"row\".concat(j+1),style:{height:\"\".concat(height,\"px\"),width:\"\".concat(rowWidth,\"px\")},children:rowsArr[j]},keyIndex++));}return tableModel;}function constructRows(tableData,rows,cols){var keyIndex=0;var rowsArr=[];for(var i=0;i<rows;++i){var row=[];for(var j=0;j<cols;++j){var val=tableData[i][j].val;var height=getHeight(tableData[i][j]);var width=getWidth(tableData[i][j]);var marginLeft=getMarginLeft(tableData[i][j]);row.push(/*#__PURE__*/_jsxs(\"div\",{className:\"row\".concat(i+1,\" col\").concat(j+1,\" entryCell\"),style:{height:\"\".concat(height,\"px\"),width:\"\".concat(width,\"px\"),marginLeft:\"\".concat(marginLeft,\"px\")},children:[/*#__PURE__*/_jsx(\"input\",{className:\"cellInput\",onKeyDown:stopPropagationKeyDown,onKeyUp:stopPropagationKeyUp,type:\"text\",defaultValue:val}),/*#__PURE__*/_jsx(\"div\",{className:\"cellValueDiv\",children:/*#__PURE__*/_jsx(\"p\",{className:\"cellValue\",children:val})}),/*#__PURE__*/_jsx(\"div\",{className:\"coverDiv\",tabIndex:\"-1\",style:{boxShadow:i==0&&j==0?'inset 0 0 0 2px blue':'none'}})]},keyIndex++));}rowsArr.push(row);}return rowsArr;}function stopPropagationKeyDown(e){document.querySelector('#cellViewPanel__cellTextValue').innerText=document.querySelector('#cellViewPanel__cellTextValue').innerText+e.key;e.stopPropagation();}function stopPropagationKeyUp(e){e.stopPropagation();}export{constructTableModel};","map":{"version":3,"names":["getHeight","getWidth","getMarginLeft","constructTableModel","tableData","rows","cols","rowWidth","keyIndex","tableModel","rowsArr","constructRows","j","length","height","push","width","i","row","val","marginLeft","stopPropagationKeyDown","stopPropagationKeyUp","boxShadow","e","document","querySelector","innerText","key","stopPropagation"],"sources":["C:/Users/rband/Desktop/SpreadsheetPanel/client/src/components/TablePanel/helpers/buildSheet/helpers/constructTableModel.js"],"sourcesContent":["import { getHeight, getWidth, getMarginLeft } from \"./util\";\r\n\r\nfunction constructTableModel(tableData, rows, cols, rowWidth) {\r\n    let keyIndex = 0;\r\n    let tableModel = [];\r\n\r\n    let rowsArr = constructRows(tableData, rows, cols);\r\n    for (let j = 0; j < rowsArr.length; ++j) {\r\n        let height = getHeight(tableData[j][0]);\r\n        tableModel.push(<div key={keyIndex++} id={`row${j + 1}`} className={`row${j + 1}`} style={{ height: `${height}px`, width: `${rowWidth}px` }}>\r\n            {rowsArr[j]}\r\n        </div>);\r\n    }\r\n    return tableModel;\r\n}\r\n\r\nfunction constructRows(tableData, rows, cols) {\r\n    let keyIndex = 0;\r\n    let rowsArr = [];\r\n    for (let i = 0; i < rows; ++i) {\r\n        let row = [];\r\n        for (let j = 0; j < cols; ++j) {\r\n            let val = tableData[i][j].val;\r\n            let height = getHeight(tableData[i][j]);\r\n            let width = getWidth(tableData[i][j]);\r\n            let marginLeft = getMarginLeft(tableData[i][j]);\r\n            row.push(\r\n                <div key={keyIndex++} className={`row${i + 1} col${j + 1} entryCell`} style={{height: `${height}px`, width: `${width}px`, marginLeft: `${marginLeft}px` }}>\r\n                    <input className='cellInput' onKeyDown={stopPropagationKeyDown} onKeyUp={stopPropagationKeyUp} type='text' defaultValue={val}></input>\r\n                    <div className='cellValueDiv'>\r\n                        <p className='cellValue'>{val}</p>\r\n                    </div>\r\n                    <div className='coverDiv' tabIndex='-1' style={{ boxShadow: i == 0 && j == 0 ? 'inset 0 0 0 2px blue' : 'none' }}></div>\r\n                </div>);\r\n        }\r\n        rowsArr.push(row);\r\n    }\r\n    return rowsArr;\r\n}\r\n\r\nfunction stopPropagationKeyDown(e) {\r\n    document.querySelector('#cellViewPanel__cellTextValue').innerText = document.querySelector('#cellViewPanel__cellTextValue').innerText + e.key;\r\n    e.stopPropagation();\r\n}\r\n\r\nfunction stopPropagationKeyUp(e) {\r\n    e.stopPropagation();\r\n}\r\n\r\nexport { constructTableModel };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}