{"ast":null,"code":"import{store}from'./../../../../store/store.js';import{trackEvent}from\"../../../../store/reducers/keyboardEventsSlice.js\";import{undo,redo}from'./../../../../data/modifiers/undoRedo.js';var NO_COMMAND='No Command';var CONTROL='Control';var META='Meta';var SHIFT='Shift';var CONTROL_SHIFT='Control_Shift';var NO_CHANGE='No Change';// Handle CTRL+Z/Y (undo/redo) and CTRL/SHIFT selections.\nfunction keyPressed(e){console.log(e.key.padStart(7,' ')+' DOWN');var deleteThisVariable;switch(store.getState().keyboardEvents.inputMode){case NO_COMMAND:if(e.key===CONTROL||e.key===META){store.dispatch(trackEvent({inputMode:CONTROL,outcome:NO_CHANGE}));}else if(e.key===SHIFT){store.dispatch(trackEvent({inputMode:SHIFT,outcome:NO_CHANGE}));}break;case CONTROL:if(e.key==='z')undo();else if(e.key==='y')redo();else if(e.key==='x')deleteThisVariable=0;else if(e.key==='c')deleteThisVariable=0;else if(e.key==='v')deleteThisVariable=0;break;case SHIFT:break;case CONTROL_SHIFT:if(e.key==='f')deleteThisVariable=0;//formatPaint\nbreak;default:break;}}function keyUpped(e){console.log(e.key.padStart(7,' ')+' UP');switch(store.getState().keyboardEvents.inputMode){case NO_COMMAND:store.dispatch(trackEvent({outcome:NO_CHANGE}));break;case CONTROL:case SHIFT:if(e.key===CONTROL||e.key===META||e.key===SHIFT){store.dispatch(trackEvent({inputMode:NO_COMMAND,outcome:NO_CHANGE}));}else store.dispatch(trackEvent({outcome:NO_CHANGE}));break;default:store.dispatch(trackEvent({inputMode:NO_COMMAND,outcome:NO_CHANGE}));break;}}export{keyPressed,keyUpped};","map":{"version":3,"names":["store","trackEvent","undo","redo","NO_COMMAND","CONTROL","META","SHIFT","CONTROL_SHIFT","NO_CHANGE","keyPressed","e","console","log","key","padStart","deleteThisVariable","getState","keyboardEvents","inputMode","dispatch","outcome","keyUpped"],"sources":["C:/Users/rband/Desktop/SpreadsheetPanel/client/src/components/SpreadSheetPanel/handlers/keyboardEvents/keyboardEvents.js"],"sourcesContent":["import { store } from './../../../../store/store.js'\r\nimport { trackEvent } from \"../../../../store/reducers/keyboardEventsSlice.js\";\r\nimport { undo, redo } from './../../../../data/modifiers/undoRedo.js'\r\n\r\nconst NO_COMMAND = 'No Command';\r\nconst CONTROL = 'Control';\r\nconst META = 'Meta'\r\nconst SHIFT = 'Shift';\r\nconst CONTROL_SHIFT = 'Control_Shift';\r\nconst NO_CHANGE = 'No Change';\r\n\r\n// Handle CTRL+Z/Y (undo/redo) and CTRL/SHIFT selections.\r\nfunction keyPressed(e) {\r\n    console.log(e.key.padStart(7, ' ') + ' DOWN');\r\n    let deleteThisVariable;\r\n    switch (store.getState().keyboardEvents.inputMode) {\r\n        case NO_COMMAND:\r\n            if (e.key === CONTROL || e.key === META) {\r\n                store.dispatch(trackEvent({ inputMode: CONTROL, outcome: NO_CHANGE }))\r\n            } else if (e.key === SHIFT) {\r\n                store.dispatch(trackEvent({ inputMode: SHIFT, outcome: NO_CHANGE }))\r\n            }\r\n            break;\r\n        case CONTROL:\r\n            if (e.key === 'z') undo();\r\n            else if (e.key === 'y') redo();\r\n            else if (e.key === 'x') deleteThisVariable = 0;\r\n            else if (e.key === 'c') deleteThisVariable = 0;\r\n            else if (e.key === 'v') deleteThisVariable = 0;\r\n            break;\r\n        case SHIFT:\r\n            break;\r\n        case CONTROL_SHIFT:\r\n            if (e.key === 'f') deleteThisVariable = 0; //formatPaint\r\n            break;\r\n        default: break;\r\n    }\r\n}\r\nfunction keyUpped(e) {\r\n    console.log(e.key.padStart(7, ' ') + ' UP');\r\n    switch (store.getState().keyboardEvents.inputMode) {\r\n        case NO_COMMAND:\r\n            store.dispatch(trackEvent({ outcome: NO_CHANGE }))\r\n            break;\r\n        case CONTROL:\r\n        case SHIFT:\r\n            if (e.key === CONTROL || e.key === META || e.key === SHIFT) {\r\n                store.dispatch(trackEvent({ inputMode: NO_COMMAND, outcome: NO_CHANGE }))\r\n            } else store.dispatch(trackEvent({ outcome: NO_CHANGE }))\r\n            break;\r\n        default:\r\n            store.dispatch(trackEvent({ inputMode: NO_COMMAND, outcome: NO_CHANGE }))\r\n            break;\r\n    }\r\n}\r\n\r\nexport { keyPressed, keyUpped };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}