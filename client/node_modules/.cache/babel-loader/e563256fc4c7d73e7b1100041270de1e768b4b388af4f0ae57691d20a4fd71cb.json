{"ast":null,"code":"import _slicedToArray from\"C:/Users/rband/Desktop/SpreadsheetPanel/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _createForOfIteratorHelper from\"C:/Users/rband/Desktop/SpreadsheetPanel/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import React from\"react\";import{store}from'./../../../../store/store.js';import{useSelector}from'react-redux';import{getTextDecoration,setTextDecoration}from'../../../../store/reducers/selectionSlice.js';import Data from\"../../../../data/data.js\";import recordChange from\"../../../../data/modifiers/recordChange.js\";import'./Strikethrough.css';import{jsx as _jsx}from\"react/jsx-runtime\";function Strikethrough(_ref){var selectionEntries=_ref.selectionEntries;var textDecoration=useSelector(getTextDecoration);var toggleStrikethrough=function toggleStrikethrough(e){var newTextDecoration;var prevData=new Data();var newData=new Data();var _iterator=_createForOfIteratorHelper(selectionEntries.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var cell=_step.value;var _cell$split$map=cell.split(',').map(function(num){return parseInt(num,10);}),_cell$split$map2=_slicedToArray(_cell$split$map,2),rowNum=_cell$split$map2[0],colNum=_cell$split$map2[1];prevData.setIndividualEntry('.row'+rowNum+'.col'+colNum,new Map([['textDecoration',textDecoration]]),rowNum,colNum,null);var cellNode=document.querySelector(\".row\".concat(rowNum,\".col\").concat(colNum,\">.cellValueDiv>.cellValue\"));if(textDecoration=='line-through'){newTextDecoration='none';cellNode.style.textDecoration=newTextDecoration;newData.setIndividualEntry('.row'+rowNum+'.col'+colNum,new Map([['textDecoration',newTextDecoration]]),rowNum,colNum,null);document.querySelector('.strikethrough__btn').style.backgroundColor='white';}else{newTextDecoration='line-through';cellNode.style.textDecoration=newTextDecoration;newData.setIndividualEntry('.row'+rowNum+'.col'+colNum,new Map([['textDecoration',newTextDecoration]]),rowNum,colNum,null);document.querySelector('.strikethrough__btn').style.backgroundColor='rgb(204, 255, 162)';}}}catch(err){_iterator.e(err);}finally{_iterator.f();}recordChange(prevData,newData);store.dispatch(setTextDecoration({textDecoration:newTextDecoration}));};return/*#__PURE__*/_jsx(\"div\",{className:\"strikethrough\",children:/*#__PURE__*/_jsx(\"button\",{className:\"strikethrough__btn\",onClick:toggleStrikethrough,children:/*#__PURE__*/_jsx(\"p\",{id:\"strikethrough__icon\",children:\"S\"})})});}export default Strikethrough;","map":{"version":3,"names":["React","store","useSelector","getTextDecoration","setTextDecoration","Data","recordChange","Strikethrough","selectionEntries","textDecoration","toggleStrikethrough","e","newTextDecoration","prevData","newData","values","cell","split","map","num","parseInt","rowNum","colNum","setIndividualEntry","Map","cellNode","document","querySelector","style","backgroundColor","dispatch"],"sources":["C:/Users/rband/Desktop/SpreadsheetPanel/client/src/components/FormatPanel/components/Strikethrough/Strikethrough.js"],"sourcesContent":["import React from \"react\";\r\nimport { store } from './../../../../store/store.js'\r\nimport { useSelector } from 'react-redux';\r\nimport { getTextDecoration, setTextDecoration } from '../../../../store/reducers/selectionSlice.js';\r\nimport Data from \"../../../../data/data.js\";\r\nimport recordChange from \"../../../../data/modifiers/recordChange.js\";\r\nimport './Strikethrough.css'\r\n\r\nfunction Strikethrough({ selectionEntries }) {\r\n    const textDecoration = useSelector(getTextDecoration);\r\n\r\n    let toggleStrikethrough = (e) => {\r\n        let newTextDecoration;\r\n        let prevData = new Data();\r\n        let newData = new Data();\r\n        for (const cell of selectionEntries.values()) {\r\n            let [rowNum, colNum] = cell.split(',').map((num) => parseInt(num, 10));\r\n            prevData.setIndividualEntry('.row' + rowNum + '.col' + colNum, new Map([['textDecoration', textDecoration]]), rowNum, colNum, null);\r\n            let cellNode = document.querySelector(`.row${rowNum}.col${colNum}>.cellValueDiv>.cellValue`);\r\n            if (textDecoration == 'line-through') {\r\n                newTextDecoration = 'none';\r\n                cellNode.style.textDecoration = newTextDecoration;\r\n                newData.setIndividualEntry('.row' + rowNum + '.col' + colNum, new Map([['textDecoration', newTextDecoration]]), rowNum, colNum, null);\r\n                document.querySelector('.strikethrough__btn').style.backgroundColor = 'white';\r\n            } else {\r\n                newTextDecoration = 'line-through';\r\n                cellNode.style.textDecoration = newTextDecoration;\r\n                newData.setIndividualEntry('.row' + rowNum + '.col' + colNum, new Map([['textDecoration', newTextDecoration]]), rowNum, colNum, null);\r\n                document.querySelector('.strikethrough__btn').style.backgroundColor = 'rgb(204, 255, 162)';\r\n            }\r\n        }\r\n        recordChange(prevData, newData);\r\n        store.dispatch(setTextDecoration({ textDecoration: newTextDecoration }));\r\n    }\r\n\r\n    return (\r\n        <div className='strikethrough'>\r\n            <button className='strikethrough__btn' onClick={toggleStrikethrough}>\r\n                <p id='strikethrough__icon'>S</p>\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Strikethrough;"],"mappings":"gSAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,KAAK,KAAQ,8BAA8B,CACpD,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,iBAAiB,CAAEC,iBAAiB,KAAQ,8CAA8C,CACnG,MAAOC,KAAI,KAAM,0BAA0B,CAC3C,MAAOC,aAAY,KAAM,4CAA4C,CACrE,MAAO,qBAAqB,4CAE5B,QAASC,cAAa,MAAuB,IAApBC,iBAAgB,MAAhBA,gBAAgB,CACrC,GAAMC,eAAc,CAAGP,WAAW,CAACC,iBAAiB,CAAC,CAErD,GAAIO,oBAAmB,CAAG,QAAtBA,oBAAmB,CAAIC,CAAC,CAAK,CAC7B,GAAIC,kBAAiB,CACrB,GAAIC,SAAQ,CAAG,GAAIR,KAAI,EAAE,CACzB,GAAIS,QAAO,CAAG,GAAIT,KAAI,EAAE,CAAC,yCACNG,gBAAgB,CAACO,MAAM,EAAE,YAA5C,+CAA8C,IAAnCC,KAAI,aACX,oBAAuBA,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,SAACC,GAAG,QAAKC,SAAQ,CAACD,GAAG,CAAE,EAAE,CAAC,GAAC,oDAAjEE,MAAM,qBAAEC,MAAM,qBACnBT,QAAQ,CAACU,kBAAkB,CAAC,MAAM,CAAGF,MAAM,CAAG,MAAM,CAAGC,MAAM,CAAE,GAAIE,IAAG,CAAC,CAAC,CAAC,gBAAgB,CAAEf,cAAc,CAAC,CAAC,CAAC,CAAEY,MAAM,CAAEC,MAAM,CAAE,IAAI,CAAC,CACnI,GAAIG,SAAQ,CAAGC,QAAQ,CAACC,aAAa,eAAQN,MAAM,gBAAOC,MAAM,8BAA4B,CAC5F,GAAIb,cAAc,EAAI,cAAc,CAAE,CAClCG,iBAAiB,CAAG,MAAM,CAC1Ba,QAAQ,CAACG,KAAK,CAACnB,cAAc,CAAGG,iBAAiB,CACjDE,OAAO,CAACS,kBAAkB,CAAC,MAAM,CAAGF,MAAM,CAAG,MAAM,CAAGC,MAAM,CAAE,GAAIE,IAAG,CAAC,CAAC,CAAC,gBAAgB,CAAEZ,iBAAiB,CAAC,CAAC,CAAC,CAAES,MAAM,CAAEC,MAAM,CAAE,IAAI,CAAC,CACrII,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC,CAACC,KAAK,CAACC,eAAe,CAAG,OAAO,CACjF,CAAC,IAAM,CACHjB,iBAAiB,CAAG,cAAc,CAClCa,QAAQ,CAACG,KAAK,CAACnB,cAAc,CAAGG,iBAAiB,CACjDE,OAAO,CAACS,kBAAkB,CAAC,MAAM,CAAGF,MAAM,CAAG,MAAM,CAAGC,MAAM,CAAE,GAAIE,IAAG,CAAC,CAAC,CAAC,gBAAgB,CAAEZ,iBAAiB,CAAC,CAAC,CAAC,CAAES,MAAM,CAAEC,MAAM,CAAE,IAAI,CAAC,CACrII,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC,CAACC,KAAK,CAACC,eAAe,CAAG,oBAAoB,CAC9F,CACJ,CAAC,qDACDvB,YAAY,CAACO,QAAQ,CAAEC,OAAO,CAAC,CAC/Bb,KAAK,CAAC6B,QAAQ,CAAC1B,iBAAiB,CAAC,CAAEK,cAAc,CAAEG,iBAAkB,CAAC,CAAC,CAAC,CAC5E,CAAC,CAED,mBACI,YAAK,SAAS,CAAC,eAAe,uBAC1B,eAAQ,SAAS,CAAC,oBAAoB,CAAC,OAAO,CAAEF,mBAAoB,uBAChE,UAAG,EAAE,CAAC,qBAAqB,UAAC,GAAC,EAAI,EAC5B,EACP,CAEd,CAEA,cAAeH,cAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}