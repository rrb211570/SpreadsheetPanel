{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/rband/Desktop/SpreadsheetPanel/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"C:/Users/rband/Desktop/SpreadsheetPanel/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{store}from'../../../../store/store.js';import{useSelector}from'react-redux';import{getHorizontalAlignment,setHorizontalAlignment}from'../../../../store/reducers/selectionSlice.js';import Data from\"../../../../data/data.js\";import recordChange from\"../../../../data/modifiers/recordChange.js\";import'./HorizontalAlignment.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HorizontalAlignment(_ref){var selectionEntries=_ref.selectionEntries;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),insideDropdown=_useState2[0],setInsideDropdown=_useState2[1];var horizontalAlignment=useSelector(getHorizontalAlignment);var toggleDropdown=function toggleDropdown(e){var dropdown=e.target.parentElement.querySelector('.horizontalAlignment__options');if(dropdown.style.opacity==1){dropdown.style.opacity=0;dropdown.style.zIndex=-1;dropdown.style.pointerEvents='none';}else{dropdown.style.opacity=1;dropdown.style.zIndex=3;dropdown.style.pointerEvents='auto';}};var recordMouseEnter=function recordMouseEnter(){setInsideDropdown(true);};var recordMouseLeave=function recordMouseLeave(){setInsideDropdown(false);};var hideDropdown=function hideDropdown(e){if(!insideDropdown){e.currentTarget.querySelector('.horizontalAlignment__options').style.opacity=0;e.currentTarget.querySelector('.horizontalAlignment__options').style.zIndex=-1;e.currentTarget.querySelector('.horizontalAlignment__options').style.pointerEvents='none';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"horizontalAlignment\",tabIndex:\"-1\",onMouseEnter:recordMouseEnter,onMouseLeave:recordMouseLeave,onBlur:hideDropdown,children:[/*#__PURE__*/_jsxs(\"button\",{className:\"horizontalAlignment__btn horizontalAlignment__icon_\".concat(horizontalAlignment),onClick:toggleDropdown,children:[/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_long horizontalAlignment__iconLine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_short horizontalAlignment__iconLine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_long horizontalAlignment__iconLine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_short horizontalAlignment__iconLine\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"horizontalAlignment__options\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"horizontalAlignment__left\",className:\"horizontalAlignment__icon_left horizontalAlignment__icon\",onClick:function onClick(){return updateHorizontalAlignment(selectionEntries,horizontalAlignment,'left');},children:[/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_long horizontalAlignment__iconLine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_short horizontalAlignment__iconLine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_long horizontalAlignment__iconLine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_short horizontalAlignment__iconLine\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"horizontalAlignment__center\",className:\"horizontalAlignment__icon_center horizontalAlignment__icon\",onClick:function onClick(){return updateHorizontalAlignment(selectionEntries,horizontalAlignment,'center');},children:[/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_long horizontalAlignment__iconLine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_short horizontalAlignment__iconLine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_long horizontalAlignment__iconLine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_short horizontalAlignment__iconLine\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"horizontalAlignment__right\",className:\"horizontalAlignment__icon_right horizontalAlignment__icon\",onClick:function onClick(){return updateHorizontalAlignment(selectionEntries,horizontalAlignment,'right');},children:[/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_long horizontalAlignment__iconLine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_short horizontalAlignment__iconLine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_long horizontalAlignment__iconLine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"horizontalAlignment__iconLine_short horizontalAlignment__iconLine\"})]})]})]});}var updateHorizontalAlignment=function updateHorizontalAlignment(selectionEntries,prevHorizontalAlignment,newHorizontalAlignment){var prevData=new Data();var newData=new Data();if(prevHorizontalAlignment==newHorizontalAlignment)return;var _iterator=_createForOfIteratorHelper(selectionEntries.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var cell=_step.value;var _cell$split$map=cell.split(',').map(function(num){return parseInt(num,10);}),_cell$split$map2=_slicedToArray(_cell$split$map,2),rowNum=_cell$split$map2[0],colNum=_cell$split$map2[1];prevData.setIndividualEntry('.row'+rowNum+'.col'+colNum,new Map([['horizontalAlignment',prevHorizontalAlignment]]),rowNum,colNum,null);newData.setIndividualEntry('.row'+rowNum+'.col'+colNum,new Map([['horizontalAlignment',newHorizontalAlignment]]),rowNum,colNum,null);document.querySelector(\".row\".concat(rowNum,\".col\").concat(colNum,\">.cellValueDiv>.cellValue\")).style.textAlign=newHorizontalAlignment;}}catch(err){_iterator.e(err);}finally{_iterator.f();}recordChange(prevData,newData);store.dispatch(setHorizontalAlignment({horizontalAlignment:newHorizontalAlignment}));};export{HorizontalAlignment,updateHorizontalAlignment};","map":{"version":3,"names":["React","useState","store","useSelector","getHorizontalAlignment","setHorizontalAlignment","Data","recordChange","HorizontalAlignment","selectionEntries","insideDropdown","setInsideDropdown","horizontalAlignment","toggleDropdown","e","dropdown","target","parentElement","querySelector","style","opacity","zIndex","pointerEvents","recordMouseEnter","recordMouseLeave","hideDropdown","currentTarget","updateHorizontalAlignment","prevHorizontalAlignment","newHorizontalAlignment","prevData","newData","values","cell","split","map","num","parseInt","rowNum","colNum","setIndividualEntry","Map","document","textAlign","dispatch"],"sources":["C:/Users/rband/Desktop/SpreadsheetPanel/client/src/components/FormatPanel/components/HorizontalAlignment/HorizontalAlignment.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { store } from '../../../../store/store.js'\r\nimport { useSelector } from 'react-redux';\r\nimport { getHorizontalAlignment, setHorizontalAlignment } from '../../../../store/reducers/selectionSlice.js';\r\nimport Data from \"../../../../data/data.js\";\r\nimport recordChange from \"../../../../data/modifiers/recordChange.js\";\r\nimport './HorizontalAlignment.css'\r\n\r\nfunction HorizontalAlignment({ selectionEntries }) {\r\n    const [insideDropdown, setInsideDropdown] = useState(false);\r\n    const horizontalAlignment = useSelector(getHorizontalAlignment);\r\n\r\n    let toggleDropdown = (e) => {\r\n        let dropdown = e.target.parentElement.querySelector('.horizontalAlignment__options');\r\n        if (dropdown.style.opacity == 1) {\r\n            dropdown.style.opacity = 0;\r\n            dropdown.style.zIndex = -1;\r\n            dropdown.style.pointerEvents = 'none';\r\n        } else {\r\n            dropdown.style.opacity = 1;\r\n            dropdown.style.zIndex = 3;\r\n            dropdown.style.pointerEvents = 'auto';\r\n        }\r\n    }\r\n\r\n    let recordMouseEnter = () => {\r\n        setInsideDropdown(true);\r\n    }\r\n\r\n    let recordMouseLeave = () => {\r\n        setInsideDropdown(false);\r\n    }\r\n\r\n    let hideDropdown = (e) => {\r\n        if (!insideDropdown) {\r\n            e.currentTarget.querySelector('.horizontalAlignment__options').style.opacity = 0;\r\n            e.currentTarget.querySelector('.horizontalAlignment__options').style.zIndex = -1;\r\n            e.currentTarget.querySelector('.horizontalAlignment__options').style.pointerEvents = 'none';\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='horizontalAlignment' tabIndex='-1' onMouseEnter={recordMouseEnter} onMouseLeave={recordMouseLeave} onBlur={hideDropdown} >\r\n            <button className={`horizontalAlignment__btn horizontalAlignment__icon_${horizontalAlignment}`} onClick={toggleDropdown}>\r\n                <p className='horizontalAlignment__iconLine_long horizontalAlignment__iconLine'></p>\r\n                <p className='horizontalAlignment__iconLine_short horizontalAlignment__iconLine'></p>\r\n                <p className='horizontalAlignment__iconLine_long horizontalAlignment__iconLine'></p>\r\n                <p className='horizontalAlignment__iconLine_short horizontalAlignment__iconLine'></p>\r\n            </button>\r\n            <div className='horizontalAlignment__options' >\r\n                <div id='horizontalAlignment__left' className='horizontalAlignment__icon_left horizontalAlignment__icon' onClick={()=>updateHorizontalAlignment(selectionEntries, horizontalAlignment, 'left')}>\r\n                    <p className='horizontalAlignment__iconLine_long horizontalAlignment__iconLine'></p>\r\n                    <p className='horizontalAlignment__iconLine_short horizontalAlignment__iconLine'></p>\r\n                    <p className='horizontalAlignment__iconLine_long horizontalAlignment__iconLine'></p>\r\n                    <p className='horizontalAlignment__iconLine_short horizontalAlignment__iconLine'></p>\r\n                </div>\r\n                <div id='horizontalAlignment__center' className='horizontalAlignment__icon_center horizontalAlignment__icon' onClick={()=>updateHorizontalAlignment(selectionEntries, horizontalAlignment, 'center')}>\r\n                    <p className='horizontalAlignment__iconLine_long horizontalAlignment__iconLine'></p>\r\n                    <p className='horizontalAlignment__iconLine_short horizontalAlignment__iconLine'></p>\r\n                    <p className='horizontalAlignment__iconLine_long horizontalAlignment__iconLine'></p>\r\n                    <p className='horizontalAlignment__iconLine_short horizontalAlignment__iconLine'></p>\r\n                </div>\r\n                <div id='horizontalAlignment__right' className='horizontalAlignment__icon_right horizontalAlignment__icon' onClick={()=>updateHorizontalAlignment(selectionEntries, horizontalAlignment, 'right')}>\r\n                    <p className='horizontalAlignment__iconLine_long horizontalAlignment__iconLine'></p>\r\n                    <p className='horizontalAlignment__iconLine_short horizontalAlignment__iconLine'></p>\r\n                    <p className='horizontalAlignment__iconLine_long horizontalAlignment__iconLine'></p>\r\n                    <p className='horizontalAlignment__iconLine_short horizontalAlignment__iconLine'></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nlet updateHorizontalAlignment = (selectionEntries, prevHorizontalAlignment, newHorizontalAlignment) => {\r\n    let prevData = new Data();\r\n    let newData = new Data();\r\n    if (prevHorizontalAlignment == newHorizontalAlignment) return;\r\n    for (const cell of selectionEntries.values()) {\r\n        let [rowNum, colNum] = cell.split(',').map((num) => parseInt(num, 10));\r\n        prevData.setIndividualEntry('.row' + rowNum + '.col' + colNum, new Map([['horizontalAlignment', prevHorizontalAlignment]]), rowNum, colNum, null);\r\n        newData.setIndividualEntry('.row' + rowNum + '.col' + colNum, new Map([['horizontalAlignment', newHorizontalAlignment]]), rowNum, colNum, null);\r\n        document.querySelector(`.row${rowNum}.col${colNum}>.cellValueDiv>.cellValue`).style.textAlign = newHorizontalAlignment;\r\n    }\r\n    recordChange(prevData, newData);\r\n    store.dispatch(setHorizontalAlignment({ horizontalAlignment: newHorizontalAlignment }));\r\n}\r\n\r\nexport {HorizontalAlignment, updateHorizontalAlignment};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}